<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head th:replace="~{fragments/header :: head(${seo})}"></head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PFPKQT7W"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div th:replace="~{fragments/header :: [th:fragment='header']}"></div>

<main class="container insights-page">
    <!-- Breadcrumb -->
    <nav class="breadcrumb" aria-label="breadcrumb">
        <a th:href="@{/insights}">인사이트</a>
        <span class="separator">/</span>
        <span class="current">이용 현황</span>
    </nav>

    <!-- Hero Section -->
    <section class="insights-hero animate-on-scroll">
        <h1>이용 현황</h1>
        <p class="insights-hero-subtitle">DateDate 서비스 이용 통계를 확인하세요</p>
    </section>

    <!-- Description -->
    <section class="insights-description animate-on-scroll">
        <p>
            DateDate는 여러 명이서 쉽게 날짜를 조율할 수 있는 무료 서비스입니다.
            아래 통계는 서비스 전체 이용 현황을 실시간으로 집계한 결과입니다.
            모임, 회의, 여행 등 다양한 목적으로 DateDate를 활용하고 있는 사용자들의 데이터를 확인해보세요.
        </p>
    </section>

    <!-- Stats Overview -->
    <section class="stats-overview">
        <h2 class="animate-on-scroll">전체 통계</h2>

        <div class="stats-grid">
            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon calendar">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${stats.totalSchedules}">0</div>
                    <div class="stats-card-label">총 생성된 일정</div>
                    <div class="stats-card-desc">DateDate에서 생성된 전체 일정 수</div>
                </div>
            </div>

            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon users">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${stats.totalParticipants}">0</div>
                    <div class="stats-card-label">총 참여자</div>
                    <div class="stats-card-desc">일정에 참여한 전체 인원 수</div>
                </div>
            </div>

            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon location">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${stats.totalLocations}">0</div>
                    <div class="stats-card-label">등록된 장소</div>
                    <div class="stats-card-desc">투표를 위해 등록된 장소 수</div>
                </div>
            </div>

            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon menu">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${stats.totalMenus}">0</div>
                    <div class="stats-card-label">등록된 메뉴</div>
                    <div class="stats-card-desc">투표를 위해 등록된 메뉴 수</div>
                </div>
            </div>

            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon vote">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${stats.totalLocationVotes + stats.totalMenuVotes}">0</div>
                    <div class="stats-card-label">총 투표 수</div>
                    <div class="stats-card-desc">장소와 메뉴에 대한 전체 투표 수</div>
                </div>
            </div>

            <div class="stats-card animate-on-scroll">
                <div class="stats-card-icon avg">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                </div>
                <div class="stats-card-content">
                    <div class="stats-card-number" th:text="${#numbers.formatDecimal(stats.avgParticipantsPerSchedule, 1, 1)}">0.0</div>
                    <div class="stats-card-label">평균 참여자 수</div>
                    <div class="stats-card-desc">일정당 평균 참여 인원</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Detailed Stats -->
    <section class="stats-detail animate-on-scroll">
        <h2>상세 통계</h2>

        <div class="stats-detail-grid">
            <div class="stats-detail-card">
                <h3>장소 투표</h3>
                <div class="stats-detail-row">
                    <span class="label">등록된 장소</span>
                    <span class="value" th:text="${stats.totalLocations}">0</span>
                </div>
                <div class="stats-detail-row">
                    <span class="label">장소 투표 수</span>
                    <span class="value" th:text="${stats.totalLocationVotes}">0</span>
                </div>
                <div class="stats-detail-row" th:if="${stats.totalLocations > 0}">
                    <span class="label">장소당 평균 투표</span>
                    <span class="value" th:text="${#numbers.formatDecimal(stats.totalLocationVotes / stats.totalLocations, 1, 1)}">0.0</span>
                </div>
            </div>

            <div class="stats-detail-card">
                <h3>메뉴 투표</h3>
                <div class="stats-detail-row">
                    <span class="label">등록된 메뉴</span>
                    <span class="value" th:text="${stats.totalMenus}">0</span>
                </div>
                <div class="stats-detail-row">
                    <span class="label">메뉴 투표 수</span>
                    <span class="value" th:text="${stats.totalMenuVotes}">0</span>
                </div>
                <div class="stats-detail-row" th:if="${stats.totalMenus > 0}">
                    <span class="label">메뉴당 평균 투표</span>
                    <span class="value" th:text="${#numbers.formatDecimal(stats.totalMenuVotes / stats.totalMenus, 1, 1)}">0.0</span>
                </div>
            </div>
        </div>
    </section>

    <!-- About DateDate -->
    <section class="stats-about animate-on-scroll">
        <h2>DateDate 소개</h2>
        <p>
            DateDate는 그룹 일정 조율을 위한 무료 온라인 서비스입니다.
            회원가입 없이 간편하게 일정 페이지를 만들고, 링크를 공유하여 참여자들의 가능한 날짜를 수집할 수 있습니다.
            날짜 선택뿐만 아니라 장소와 메뉴에 대한 투표 기능도 제공하여, 모임의 모든 결정을 한 곳에서 할 수 있습니다.
        </p>
        <p>
            친구 모임, 팀 회의, 동아리 활동, 가족 행사 등 다양한 상황에서 DateDate를 활용해보세요.
            복잡한 채팅방 대화 없이 깔끔하게 일정을 조율할 수 있습니다.
        </p>
    </section>

    <!-- Navigation -->
    <section class="insights-nav animate-on-scroll">
        <a th:href="@{/insights}" class="btn-secondary">인사이트 홈으로</a>
        <a th:href="@{/insights/trends}" class="btn-secondary">인기 트렌드 보기</a>
    </section>
</main>

<div th:replace="~{fragments/footer :: [th:fragment='footer']}"></div>
<script defer th:src="@{/js/animations.js}"></script>
</body>
</html>
