<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head th:replace="~{runners/fragments/header :: head(${seo})}"></head>
<body class="runners-body">
    <nav th:replace="~{runners/fragments/header :: navbar}"></nav>

    <main class="runners-container">
        <section class="runners-member-detail">
            <!-- Member Header -->
            <div class="runners-member-detail-header">
                <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                    <div>
                        <h1 th:text="${memberName}">러너</h1>
                        <p class="runners-member-subtitle">출석 기록</p>
                    </div>
                    <a th:href="@{/runners/members}" class="runners-btn runners-btn-secondary">
                        ← 목록으로
                    </a>
                </div>

                <!-- Stats Summary -->
                <div class="runners-member-stats">
                    <div class="runners-member-stat-item">
                        <span class="stat-label">정규런</span>
                        <span class="stat-value regular" th:text="${regularCount} + '회'">0회</span>
                    </div>
                    <div class="runners-member-stat-item">
                        <span class="stat-label">번개런</span>
                        <span class="stat-value lightning" th:text="${lightningCount} + '회'">0회</span>
                    </div>
                    <div class="runners-member-stat-item">
                        <span class="stat-label">합계</span>
                        <span class="stat-value total" th:text="${totalCount} + '회'">0회</span>
                    </div>
                </div>
            </div>

            <!-- Attendance History -->
            <div class="runners-attendance-history">
                <h2>참석 기록</h2>

                <div class="runners-attendance-history-list" th:if="${!attendances.isEmpty()}">
                    <article class="runners-attendance-history-item" th:each="attendance : ${attendances}">
                        <div class="runners-attendance-history-header">
                            <span class="runners-run-category"
                                  th:classappend="${attendance.category() == 'REGULAR' ? 'regular' : 'lightning'}"
                                  th:text="${attendance.categoryDisplayName()}">정규런</span>
                            <span class="runners-attendance-distance" th:text="${attendance.distance()} + 'km'">5.0km</span>
                        </div>
                        <div class="runners-attendance-history-body">
                            <div class="runners-attendance-date" th:text="${attendance.formattedDate()}">2024년 12월 15일 (일)</div>
                            <div class="runners-attendance-info">
                                <span class="runners-attendance-time" th:text="${attendance.formattedTime()}">09:00</span>
                                <span class="runners-attendance-location">📍 <span th:text="${attendance.location()}">잠실 종합운동장</span></span>
                            </div>
                        </div>
                        <div class="runners-attendance-history-footer">
                            <a th:href="@{/runners/runs/{id}(id=${attendance.runId()})}" class="runners-btn runners-btn-secondary runners-btn-sm">
                                런 보기
                            </a>
                        </div>
                    </article>
                </div>

                <div class="runners-empty" th:if="${attendances.isEmpty()}">
                    <div class="runners-empty-icon">📅</div>
                    <p>아직 참석 기록이 없습니다</p>
                </div>
            </div>
        </section>
    </main>

    <footer th:replace="~{runners/fragments/footer :: footer}"></footer>
</body>
</html>
